(()=>{"use strict";var e,r={219:(e,r,t)=>{const a=window.wp.blocks,n=window.React,l=window.wp.element,s=window.wp.components,o=window.wp.blockEditor,i=window.wp.apiFetch;var c=t.n(i);function u({partners:e,selectedPartners:r}){return(0,n.createElement)("div",{className:"partners-list"},e.map((e=>{if(r.includes(e.value))return(0,n.createElement)("a",{key:e.value,href:e.linkUrl,className:"partner"},(0,n.createElement)("img",{src:e.imageSrc,alt:e.label}))})))}const p=JSON.parse('{"u2":"partner-list/partner-list"}');(0,a.registerBlockType)(p.u2,{edit:function({attributes:{selectedPartners:e,partners:r},setAttributes:t}){const[a,i]=(0,l.useState)(!1),[p,d]=(0,l.useState)(!1);function m(){i(!1)}return(0,l.useEffect)((()=>{d(!0),async function(){try{const e=await c()({path:"wp/v2/partners?per_page=100"});return await e.reduce((async(e,r)=>{const t=await e;try{const e=await c()({path:`wp/v2/media/${r.featured_media}`});return[...t,{value:r.id.toString(),label:r.title.rendered,imageSrc:e.guid.rendered,linkUrl:r.acf.site_parceiro}].sort(((e,r)=>e.label.toLowerCase().localeCompare(r.label.toLowerCase())))}catch(e){console.error("Erro ao obter as imagens dos parceiros:",e)}}),Promise.resolve([]))}catch(e){console.error("Erro ao obter a lista de parceiros:",e)}}().then((e=>t({partners:e}))).finally((()=>d(!1)))}),[]),(0,n.createElement)("div",{...(0,o.useBlockProps)()},(0,n.createElement)(s.Button,{variant:"primary",onClick:function(){i(!0)}},"Selecionar Parceiros"),e.length>0&&(0,n.createElement)(u,{partners:r,selectedPartners:e}),a&&(0,n.createElement)(s.Modal,{className:"partner-list-modal",title:"Selecionar os parceiros",shouldCloseOnClickOutside:!0,onRequestClose:m},p?(0,n.createElement)(s.Spinner,null):r.map((r=>(0,n.createElement)(s.CheckboxControl,{key:r.value,label:r.label,checked:e.includes(r.value),onChange:a=>{!function(r,a){var n;n=r?[...e,a]:e.filter((e=>e!==a)),t({selectedPartners:n})}(a,r.value)}}))),(0,n.createElement)("div",{className:"partner-list-modal-footer"},(0,n.createElement)(s.Button,{variant:"primary",onClick:m},"Salvar"))))},save:function({attributes:{selectedPartners:e,partners:r}}){return(0,n.createElement)("div",{...o.useBlockProps.save({className:"custom-block-partners-list"})},r.map((r=>{if(e.includes(r.value))return(0,n.createElement)("a",{key:r.value,href:r.linkUrl,className:"partner"},(0,n.createElement)("img",{src:r.imageSrc,alt:r.label}))})))}})}},t={};function a(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return r[e](l,l.exports,a),l.exports}a.m=r,e=[],a.O=(r,t,n,l)=>{if(!t){var s=1/0;for(u=0;u<e.length;u++){for(var[t,n,l]=e[u],o=!0,i=0;i<t.length;i++)(!1&l||s>=l)&&Object.keys(a.O).every((e=>a.O[e](t[i])))?t.splice(i--,1):(o=!1,l<s&&(s=l));if(o){e.splice(u--,1);var c=n();void 0!==c&&(r=c)}}return r}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[t,n,l]},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={826:0,431:0};a.O.j=r=>0===e[r];var r=(r,t)=>{var n,l,[s,o,i]=t,c=0;if(s.some((r=>0!==e[r]))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(i)var u=i(a)}for(r&&r(t);c<s.length;c++)l=s[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},t=globalThis.webpackChunkpartner_list_es6=globalThis.webpackChunkpartner_list_es6||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var n=a.O(void 0,[431],(()=>a(219)));n=a.O(n)})();