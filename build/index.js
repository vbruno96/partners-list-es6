(()=>{"use strict";var e,r={219:(e,r,t)=>{const a=window.wp.blocks,n=window.React,l=window.wp.element,o=window.wp.components,s=window.wp.blockEditor,i=window.wp.apiFetch;var c=t.n(i);function p({partners:e,selectedPartners:r}){return(0,n.createElement)("div",{className:"partners-list"},r.map((r=>{const t=e.find((e=>r===e.value));if(t)return(0,n.createElement)("a",{key:t.value,href:t.linkUrl,className:"partner"},(0,n.createElement)("img",{src:t.imageSrc,alt:t.label}))})))}const u=JSON.parse('{"u2":"partner-list/partner-list"}');(0,a.registerBlockType)(u.u2,{edit:function({attributes:{selectedPartners:e,partners:r},setAttributes:t}){const[a,i]=(0,l.useState)(!1),[u,d]=(0,l.useState)(!1);function m(){i(!1)}return(0,l.useEffect)((()=>{d(!0),async function(){try{const e=await c()({path:"wp/v2/partners?per_page=100"});return await e.reduce((async(e,r)=>{const t=await e;try{const e=await c()({path:`wp/v2/media/${r.featured_media}`});return[...t,{value:r.id.toString(),label:r.title.rendered,imageSrc:e.guid.rendered,linkUrl:r.acf.site_parceiro}].sort(((e,r)=>e.label.toLowerCase().localeCompare(r.label.toLowerCase())))}catch(e){console.error("Erro ao obter as imagens dos parceiros:",e)}}),Promise.resolve([]))}catch(e){console.error("Erro ao obter a lista de parceiros:",e)}}().then((e=>t({partners:e}))).finally((()=>d(!1)))}),[]),(0,n.createElement)("div",{...(0,s.useBlockProps)()},(0,n.createElement)(o.Button,{variant:"primary",onClick:function(){i(!0)}},"Selecionar Parceiros"),e.length>0&&(0,n.createElement)(p,{partners:r,selectedPartners:e}),a&&(0,n.createElement)(o.Modal,{className:"partner-list-modal",title:"Selecionar os parceiros",shouldCloseOnClickOutside:!0,onRequestClose:m},u?(0,n.createElement)("div",{className:"spinner-container"},(0,n.createElement)(o.Spinner,null)):r.map((r=>(0,n.createElement)(o.CheckboxControl,{key:r.value,label:r.label,checked:e.includes(r.value),onChange:a=>{!function(r,a){var n;n=r?[...e,a]:e.filter((e=>e!==a)),t({selectedPartners:n})}(a,r.value)}}))),(0,n.createElement)("div",{className:"partner-list-modal-footer"},(0,n.createElement)(o.Button,{variant:"primary",onClick:m},"Salvar"))))},save:function({attributes:{selectedPartners:e,partners:r}}){return(0,n.createElement)("div",{...s.useBlockProps.save({className:"custom-block-partners-list"})},(0,n.createElement)(p,{partners:r,selectedPartners:e}))}})}},t={};function a(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return r[e](l,l.exports,a),l.exports}a.m=r,e=[],a.O=(r,t,n,l)=>{if(!t){var o=1/0;for(p=0;p<e.length;p++){for(var[t,n,l]=e[p],s=!0,i=0;i<t.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every((e=>a.O[e](t[i])))?t.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(p--,1);var c=n();void 0!==c&&(r=c)}}return r}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[t,n,l]},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={826:0,431:0};a.O.j=r=>0===e[r];var r=(r,t)=>{var n,l,[o,s,i]=t,c=0;if(o.some((r=>0!==e[r]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(i)var p=i(a)}for(r&&r(t);c<o.length;c++)l=o[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(p)},t=globalThis.webpackChunkpartner_list=globalThis.webpackChunkpartner_list||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var n=a.O(void 0,[431],(()=>a(219)));n=a.O(n)})();